var edit_window_specs="width=650,height=600,left=175,top=100,resizable=1,scrollbars=1",indx_window_specs="width=600,height=500,left=200,top=150,resizable=1,scrollbars=1",news_window_specs="width=740,height=650,left=200,top=150,resizable=1,scrollbars=1",help_window_specs="width=500,height=400,left=250,top=200,resizable=1,scrollbars=1",find_window_specs="width=550,height=600,left=250,top=150,resizable=1,scrollbars=1",mesg_window_specs="width=500,height=600,left=250,top=100,resizable=1,scrollbars=1",chan_window_specs="width=500,height=600,left=250,top=100,resizable=1,scrollbars=1",mord_window_specs="width=500,height=600,left=250,top=100,resizable=1,scrollbars=1",assist_window_specs="width=900,height=800,left=70,top=70,resizable=1,scrollbars=1",gmap_window_specs="width=650,height=600,left=200,top=150,resizable=1,scrollbars=1",fam_nav_specs="width=300,height=600,left=817,top=150,resizable=1,scrollbars=1",pastefield,nameElement,remElement;function modalDialog(e,c,f){jQuery('<div title="'+c+'"></div>').load(e).dialog({modal:!0,width:"undefined"===typeof f?700:f,open:function(){var b=this;jQuery(".ui-widget-overlay").on("click",function(){jQuery(b).dialog("close")})}});return !1}function helpDialog(e,c){var f="help_text.php?help="+e+"&mod="+c;modalDialog(f+" .helpcontent","",500);jQuery(".ui-dialog-title").load(f+" .helpheader");return !1}function modalNotes(d,c){jQuery('<div title="'+c+'"></div>').html(d).dialog({modal:!0,width:500,open:function(){var b=this;jQuery(".ui-widget-overlay").on("click",function(){jQuery(b).dialog("close")})}});return !1}function modalDialogSubmitAjax(b){jQuery.ajax({type:"POST",url:jQuery(b).attr("action"),data:jQuery(b).serialize(),success:function(){window.location.reload()}});return !1}function closePopupAndReloadParent(b){parent.opener&&(b?parent.opener.location=b:parent.opener.location.reload());window.close()}var msX=0,msY=0;function MM_showHideLayers(){var g,e,k,l=MM_showHideLayers.arguments;for(g=0;g<l.length-3;g+=4){if(null!==(k=document.getElementById(l[g]))){if(k.style&&(div=k,k=k.style),e=l[g+2],"toggle"==e&&(e=-1!=k.visibility.indexOf("hid")?"show":"hide"),e="show"==e?"visible":"hide"==e?"hidden":e,k.visibility=e,"followmouse"==l[g+1]){if(e=document.getElementById(l[g+3]),null!==e){if("auto"!=e.style.top&&"relatives"!=l[g+3]){k.top=5+msY-parseInt(e.style.top)+"px","ltr"==textDirection&&(k.left=5+msX-parseInt(e.style.left)+"px"),"rtl"==textDirection&&(k.right=5+msX-parseInt(e.style.right)+"px")}else{k.top="auto";var h=document.documentElement.offsetWidth+document.documentElement.scrollLeft;"rtl"==textDirection&&(h-=document.documentElement.scrollLeft);msX>h-160&&(msX=msX-150-e.offsetLeft);e=document.getElementById("content");msX-=e.offsetLeft;"ltr"==textDirection&&(k.left=5+msX+"px");k.zIndex=1000}}else{0<WT_SCRIPT_NAME.indexOf("fanchart")?(k.top=msY-20+"px",k.left=msX-20+"px"):-1==WT_SCRIPT_NAME.indexOf("index.php")?(e=document.getElementById("content").offsetLeft,k.left=5+(msX-e)+"px",k.top="auto"):(e=document.getElementById("content").offsetLeft,k.top=msY-50+"px",k.left=10+(msX-e)+"px"),k.zIndex=1000}}}}}var show=!1;function togglechildrenbox(b){b=b?"."+b:"";show?(MM_showHideLayers("childbox"+b," ","hide"," "),show=!1):(MM_showHideLayers("childbox"+b," ","show"," "),show=!0);return !1}var lastfamilybox="",popupopen=0;function show_family_box(d,c){popupopen=1;lastfamilybox=d;"relatives"==c?MM_showHideLayers("I"+d+"links","followmouse","show",""+c):(famlinks=document.getElementById("I"+d+"links"),divbox=document.getElementById("out-"+d),parentbox=document.getElementById("box"+d),famlinks&&divbox&&parentbox?(famlinks.style.top="0px",famleft="ltr"==textDirection?parseInt(divbox.style.width)+15:0,isNaN(famleft)&&(famleft=0,famlinks.style.top=parentbox.offsetTop+"px"),pagewidth=document.documentElement.offsetWidth+document.documentElement.scrollLeft,"rtl"==textDirection&&(pagewidth-=document.documentElement.scrollLeft),famleft+parseInt(parentbox.style.left)>pagewidth-100&&(famleft=25),famlinks.style.left=famleft+"px",-1!=WT_SCRIPT_NAME.indexOf("index.php")&&(famlinks.style.left="100%"),MM_showHideLayers("I"+d+"links"," ","show",""+c)):MM_showHideLayers("I"+d+"links","followmouse","show",""+c))}function hide_family_box(b){MM_showHideLayers("I"+b+"links","","hide","");popupopen=0;lastfamilybox=""}var timeouts=[];function family_box_timeout(b){timeouts[b]=setTimeout("hide_family_box('"+b+"')",2500)}function clear_family_box_timeout(b){clearTimeout(timeouts[b])}function expand_layer(b){jQuery("#"+b+"_img").hasClass("icon-plus")?(jQuery("#"+b+"_img").removeClass("icon-plus").addClass("icon-minus"),jQuery("#"+b).slideDown("fast")):(jQuery("#"+b+"_img").removeClass("icon-minus").addClass("icon-plus"),jQuery("#"+b).slideUp("fast"));return !1}function edit_interface(e,c,f){c=c||edit_window_specs;window.pastefield=f;e="edit_interface.php?"+jQuery.param(e)+"&ged="+WT_GEDCOM;window.open(e,"_blank",c);return !1}function edit_record(d,c){return edit_interface({action:"edit",xref:d,fact_id:c})}function add_fact(d,c){return edit_interface({action:"add",xref:d,fact:c})}function edit_raw(b){return edit_interface({action:"editraw",xref:b})}function edit_note(b){return edit_interface({action:"editnote",xref:b})}function add_record(e,c){var f=jQuery("#"+c).val();if(f){if("OBJE"==f){window.open("addmedia.php?action=showmediaform&linkid="+encodeURIComponent(e)+"&ged="+encodeURIComponent(WT_GEDCOM),"_blank",edit_window_specs)}else{return add_fact(e,f)}}return !1}function reorder_media(b){return edit_interface({action:"reorder_media",xref:b},mord_window_specs)}function add_new_record(d,c){return edit_interface({action:"add",xref:d,fact:c})}function add_child_to_family(d,c){return edit_interface({action:"add_child_to_family",gender:c,xref:d})}function add_child_to_individual(d,c){return edit_interface({action:"add_child_to_individual",gender:c,xref:d})}function add_parent_to_individual(d,c){return edit_interface({action:"add_parent_to_individual",xref:d,gender:c})}function add_spouse_to_family(d,c){return edit_interface({action:"add_spouse_to_family",xref:d,famtag:c})}function add_unlinked_indi(){return edit_interface({action:"add_unlinked_indi"})}function add_spouse_to_individual(d,c){return edit_interface({action:"add_spouse_to_individual",xref:d,famtag:c})}function linkspouse(d,c){return edit_interface({action:"linkspouse",xref:d,famtag:c,famid:"new"})}function add_famc(b){return edit_interface({action:"addfamlink",xref:b})}function edit_name(d,c){return edit_interface({action:"editname",xref:d,fact_id:c})}function add_name(b){return edit_interface({action:"addname",xref:b})}function accept_changes(b){jQuery.post("action.php",{action:"accept-changes",xref:b,ged:WT_GEDCOM,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function reject_changes(b){jQuery.post("action.php",{action:"reject-changes",xref:b,ged:WT_GEDCOM,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function delete_family(e,c,f){confirm(e)&&jQuery.post("action.php",{action:"delete-family",xref:c,ged:"undefined"==typeof f?WT_GEDCOM:f,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function delete_individual(e,c,f){confirm(e)&&jQuery.post("action.php",{action:"delete-individual",xref:c,ged:"undefined"==typeof f?WT_GEDCOM:f,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function delete_media(e,c,f){confirm(e)&&jQuery.post("action.php",{action:"delete-media",xref:c,ged:"undefined"==typeof f?WT_GEDCOM:f,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function delete_note(e,c,f){confirm(e)&&jQuery.post("action.php",{action:"delete-note",xref:c,ged:"undefined"==typeof f?WT_GEDCOM:f,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function delete_repository(e,c,f){confirm(e)&&jQuery.post("action.php",{action:"delete-repository",xref:c,ged:"undefined"==typeof f?WT_GEDCOM:f,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function delete_source(e,c,f){confirm(e)&&jQuery.post("action.php",{action:"delete-source",xref:c,ged:"undefined"==typeof f?WT_GEDCOM:f,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function delete_fact(e,c,f){confirm(e)&&jQuery.post("action.php",{action:"delete-fact",xref:c,fact_id:f,ged:WT_GEDCOM,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function unlink_media(e,c,f){confirm(e)&&jQuery.post("action.php",{action:"unlink-media",source:c,target:f,ged:WT_GEDCOM,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function copy_fact(d,c){jQuery.post("action.php",{action:"copy-fact",xref:d,fact_id:c,ged:WT_GEDCOM,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function paste_fact(d,c){jQuery.post("action.php",{action:"paste-fact",xref:d,fact_id:jQuery(c).val(),ged:WT_GEDCOM,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function delete_user(d,c){confirm(d)&&jQuery.post("action.php",{action:"delete-user",user_id:c,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function masquerade(b){jQuery.post("action.php",{action:"masquerade",user_id:b,csrf:WT_CSRF_TOKEN},function(){location.reload()});return !1}function reorder_children(b){return edit_interface({action:"reorder_children",xref:b})}function reorder_families(b){return edit_interface({action:"reorder_fams",xref:b})}function reply(d,c){window.open("message.php?to="+encodeURIComponent(d)+"&subject="+encodeURIComponent(c)+"&ged="+encodeURIComponent(WT_GEDCOM),"_blank",mesg_window_specs);return !1}function delete_message(b){window.open("message.php?action=delete&id="+encodeURIComponent(b)+"&ged="+encodeURIComponent(WT_GEDCOM),"_blank",mesg_window_specs);return !1}function change_family_members(b){return edit_interface({action:"changefamily",xref:b})}function addnewsource(b){return edit_interface({action:"addnewsource",xref:"newsour"},null,b)}function addnewrepository(b){return edit_interface({action:"addnewrepository",xref:"newrepo"},null,b)}function addnewnote(b){return edit_interface({action:"addnewnote",noteid:"newnote"},null,b)}function addnewnote_assisted(d,c){return edit_interface({action:"addnewnote_assisted",noteid:"newnote",xref:c},assist_window_specs,d)}function addmedia_links(e,c,f){pastefield=e;insertRowToTable(c,f);return !1}function valid_date(a){var b="JAN FEB MAR APR MAY JUN JUL AUG SEP OCT NOV DEC".split(" "),d="MUHAR SAFAR RABIA RABIT JUMAA JUMAT RAJAB SHAAB RAMAD SHAWW DHUAQ DHUAH".split(" "),c="TSH CSH KSL TVT SHV ADR ADS NSN IYR SVN TMZ AAV ELL".split(" "),f="VEND BRUM FRIM NIVO PLUV VENT GERM FLOR PRAI MESS THER FRUC COMP".split(" "),g="FARVA ORDIB KHORD TIR MORDA SHAHR MEHR ABAN AZAR DEY BAHMA ESFAN".split(" "),e=a.value,h=e.split("("),l="";1<h.length&&(e=h[0],l=h[1]);e=e.toUpperCase();e=e.replace(/\s+/," ");e=e.replace(/(^\s)|(\s$)/,"");e=e.replace(/(\d)([A-Z])/,"$1 $2");e=e.replace(/([A-Z])(\d)/,"$1 $2");e.match(/^Q ([1-4]) (\d\d\d\d)$/)&&(e="BET "+b[3*RegExp.$1-3]+" "+RegExp.$2+" AND "+b[3*RegExp.$1-1]+" "+RegExp.$2);e.match(/^(@#DHIJRI@|HIJRI)( \d?\d )(\d?\d)( \d?\d?\d?\d)$/)&&(e="@#DHIJRI@"+RegExp.$2+d[parseInt(RegExp.$3,10)-1]+RegExp.$4);e.match(/^(@#DJALALI@|JALALI)( \d?\d )(\d?\d)( \d?\d?\d?\d)$/)&&(e="@#DJALALI@"+RegExp.$2+g[parseInt(RegExp.$3,10)-1]+RegExp.$4);e.match(/^(@#DHEBREW@|HEBREW)( \d?\d )(\d?\d)( \d?\d?\d?\d)$/)&&(e="@#DHEBREW@"+RegExp.$2+c[parseInt(RegExp.$3,10)-1]+RegExp.$4);e.match(/^(@#DFRENCH R@|FRENCH)( \d?\d )(\d?\d)( \d?\d?\d?\d)$/)&&(e="@#DFRENCH R@"+RegExp.$2+f[parseInt(RegExp.$3,10)-1]+RegExp.$4);if(/^([^\d]*)(\d+)[^\d](\d+)[^\d](\d+)$/i.exec(e)){d=RegExp.$1;c=parseInt(RegExp.$2,10);f=parseInt(RegExp.$3,10);g=parseInt(RegExp.$4,10);h="DMY";if("undefined"!=typeof locale_date_format&&("MDY"===locale_date_format||"YMD"===locale_date_format)){h=locale_date_format}var k=(new Date).getFullYear(),m=k%100,k=k-m;if("DMY"==h&&31>=c&&12>=f||13<c&&31>=c&&12>=f&&31<g){e=d+c+" "+b[f-1]+" "+(100<=g?g:g<=m?g+k:g+k-100)}else{if("MDY"===h&&12>=c&&31>=f||13<f&&31>=f&&12>=c&&31<g){e=d+f+" "+b[c-1]+" "+(100<=g?g:g<=m?g+k:g+k-100)}else{if("YMD"===h&&12>=f&&31>=g||13<g&&31>=g&&12>=f&&31<c){e=d+g+" "+b[f-1]+" "+(100<=c?c:c<=m?c+k:c+k-100)}}}}e=e.replace(/^[>]([\w ]+)$/,"AFT $1");e=e.replace(/^[<]([\w ]+)$/,"BEF $1");e=e.replace(/^([\w ]+)[-]$/,"FROM $1");e=e.replace(/^[-]([\w ]+)$/,"TO $1");e=e.replace(/^[~]([\w ]+)$/,"ABT $1");e=e.replace(/^[*]([\w ]+)$/,"EST $1");e=e.replace(/^[#]([\w ]+)$/,"CAL $1");e=e.replace(/^([\w ]+) ?- ?([\w ]+)$/,"BET $1 AND $2");e=e.replace(/^([\w ]+) ?~ ?([\w ]+)$/,"FROM $1 TO $2");e.match(/^=([\d ()\/+*-]+)$/)&&(e=eval(RegExp.$1));e=e.replace(/(JANUARY)/,"JAN");e=e.replace(/(FEBRUARY)/,"FEB");e=e.replace(/(MARCH)/,"MAR");e=e.replace(/(APRIL)/,"APR");e=e.replace(/(MAY)/,"MAY");e=e.replace(/(JUNE)/,"JUN");e=e.replace(/(JULY)/,"JUL");e=e.replace(/(AUGUST)/,"AUG");e=e.replace(/(SEPTEMBER)/,"SEP");e=e.replace(/(OCTOBER)/,"OCT");e=e.replace(/(NOVEMBER)/,"NOV");e=e.replace(/(DECEMBER)/,"DEC");e=e.replace(/(JAN) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");e=e.replace(/(FEB) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");e=e.replace(/(MAR) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");e=e.replace(/(APR) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");e=e.replace(/(MAY) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");e=e.replace(/(JUN) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");e=e.replace(/(JUL) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");e=e.replace(/(AUG) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");e=e.replace(/(SEP) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");e=e.replace(/(OCT) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");e=e.replace(/(NOV) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");e=e.replace(/(DEC) (\d\d?)[, ]+(\d\d\d\d)/,"$2 $1 $3");e=e.replace(/(^| )(\d [A-Z]{3,5} \d{4})/,"$10$2");l&&(e=e+" ("+l);a.value!==e&&(a.value=e)}var oldheight=0,oldwidth=0,oldz=0,oldleft=0,big=0,oldboxid="",oldimgw=0,oldimgh=0,oldimgw1=0,oldimgh1=0,diff=0,oldfont=0,oldname=0,oldthumbdisp=0,repositioned=0,oldiconsdislpay=0,rv=null;function expandbox(f,e){if(1==big&&(0<clength&&(fontdef.style.display="none"),restorebox(oldboxid,e),f==oldboxid)){return !0}jQuery(document).ready(function(){clength=jQuery(".compact_view").length});var g=window.location.toString();divbox=document.getElementById("out-"+f);inbox=document.getElementById("inout-"+f);inbox2=document.getElementById("inout2-"+f);(parentbox=document.getElementById("box"+f))||(parentbox=divbox);gender=document.getElementById("box-"+f+"-gender");thumb1=document.getElementById("box-"+f+"-thumb");famlinks=document.getElementById("I"+f+"links");icons=document.getElementById("icons-"+f);iconz=document.getElementById("iconz-"+f);if(divbox){icons&&(oldiconsdislpay=icons.style.display,icons.style.display="block");jQuery(iconz).hasClass("icon-zoomin")?jQuery(iconz).removeClass("icon-zoomin").addClass("icon-zoomout"):jQuery(iconz).removeClass("icon-zoomout").addClass("icon-zoomin");oldboxid=f;big=1;oldheight=divbox.style.height;oldwidth=divbox.style.width;oldz=parentbox.style.zIndex;-1==g.indexOf("descendancy.php")&&(parentbox.style.zIndex="100");2!=e&&(divbox.style.width="300px",diff=300-parseInt(oldwidth),famlinks&&(famleft=parseInt(famlinks.style.left),famlinks.style.left=famleft+diff+"px"));divleft=parseInt(parentbox.style.left);"rtl"==textDirection&&(divleft=parseInt(parentbox.style.right));oldleft=divleft;divleft-=diff;repositioned=0;0>divleft&&(repositioned=1,divleft=0);divbox.style.height="auto";if(inbox){if(inbox.style.display="block",0<inbox.innerHTML.indexOf("LOADING")){var g=f.split(".")[0],h=createXMLHttp();h.open("get","expand_view.php?pid="+g,!0);h.onreadystatechange=function(){4==h.readyState&&(inbox.innerHTML=h.responseText)};h.send(null)}}else{inbox.style.display="none"}inbox2&&(inbox2.style.display="none");if(fontdef=document.getElementById("fontdef-"+f)){oldfont=fontdef.className,fontdef.className="detailsZoom",fontdef.style.display="block"}if(namedef=document.getElementById("namedef-"+f)){oldname=namedef.className,namedef.className="nameZoom"}if(addnamedef=document.getElementById("addnamedef-"+f)){oldaddname=addnamedef.className,addnamedef.className="nameZoom"}thumb1&&(oldthumbdisp=thumb1.style.display,thumb1.style.display="block",oldimgw=thumb1.offsetWidth,oldimgh=thumb1.offsetHeight,oldimgw&&(thumb1.style.width=2*oldimgw+"px"),oldimgh&&(thumb1.style.height=2*oldimgh+"px"));gender&&(oldimgw1=gender.offsetWidth,oldimgh1=gender.offsetHeight,oldimgw1&&(gender.style.width="15px"),oldimgh1&&(gender.style.height="15px"))}return !0}function createXMLHttp(){if("undefined"!=typeof XMLHttpRequest){return new XMLHttpRequest}if(window.ActiveXObject){for(var e=["MSXML2.XmlHttp.5.0","MSXML2.XmlHttp.4.0","MSXML2.XmlHttp.3.0","MSXML2.XmlHttp","Microsoft.XmlHttp"],c=0;c<e.length;c++){try{return new ActiveXObject(e[c])}catch(f){}}}throw Error("XMLHttp object could not be created.")}function restorebox(b){divbox=document.getElementById("out-"+b);inbox=document.getElementById("inout-"+b);inbox2=document.getElementById("inout2-"+b);(parentbox=document.getElementById("box"+b))||(parentbox=divbox);thumb1=document.getElementById("box-"+b+"-thumb");icons=document.getElementById("icons-"+b);iconz=document.getElementById("iconz-"+b);if(divbox){icons&&(icons.style.display=oldiconsdislpay);jQuery(iconz).hasClass("icon-zoomin")?jQuery(iconz).removeClass("icon-zoomin").addClass("icon-zoomout"):jQuery(iconz).removeClass("icon-zoomout").addClass("icon-zoomin");big=0;gender&&(oldimgw1+="px",oldimgh1+="px",gender.style.width=oldimgw1,gender.style.height=oldimgh1);thumb1&&(oldimgw+="px",oldimgh+="px",thumb1.style.width=oldimgw,thumb1.style.height=oldimgh,thumb1.style.display=oldthumbdisp);divbox.style.height=oldheight;divbox.style.width=oldwidth;parentbox&&(parentbox.style.zIndex=oldz);inbox&&(inbox.style.display="none");inbox2&&(inbox2.style.display="block");if(fontdef=document.getElementById("fontdef-"+b)){fontdef.className=oldfont}if(namedef=document.getElementById("namedef-"+b)){namedef.className=oldname}if(addnamedef=document.getElementById("addnamedef-"+b)){addnamedef.className=oldaddname}}return !0}var menutimeouts=[];function show_submenu(t,s,q){var r=document.body.scrollWidth+document.documentElement.scrollLeft,o=document.getElementById(t);if(o&&o.style){for(var r=document.all?document.body.offsetWidth:document.body.scrollWidth+document.documentElement.scrollLeft-55,n=0,p=o.childNodes.length,m=0;m<p;m++){var k=o.childNodes[m];k.offsetWidth>n+5&&(n=k.offsetWidth)}o.offsetWidth<n&&(o.style.width=n+"px");if("down"==q){if(s=document.getElementById(s)){o.style.left=s.style.left,q=o.offsetLeft+o.offsetWidth+10,q>r&&(o.style.left=r-o.offsetWidth+"px")}}else{if("right"==q&&(s=document.getElementById(s))){"ltr"==textDirection?(n=s.offsetLeft+s.offsetWidth-40,q=n+o.offsetWidth+10,q>r?o.style.right=s.offsetLeft+"px":o.style.left=n+"px"):o.style.left=s.offsetLeft-o.offsetWidth+"px",o.style.top=s.offsetTop+"px"}}0>o.offsetLeft&&(o.style.left="0px");500<o.offsetHeight&&(o.style.height="400px",o.style.overflow="auto");o.style.visibility="visible"}clearTimeout(menutimeouts[t]);menutimeouts[t]=null}function hide_submenu(d){if("number"===typeof menutimeouts[d]){var c=document.getElementById(d);c&&c.style&&(c.style.visibility="hidden");clearTimeout(menutimeouts[d]);menutimeouts[d]=null}}function timeout_submenu(b){"number"!==typeof menutimeouts[b]&&(menutimeouts[b]=setTimeout("hide_submenu('"+b+"')",100))}function statusDisable(b){b=document.getElementById(b);b.checked=!1;b.disabled=!0}function statusEnable(b){document.getElementById(b).disabled=!1}function statusChecked(b){document.getElementById(b).checked=!0}var monthLabels=[,"January","February","March","April","May","June","July","August","September","October","November","December"],monthShort=[,"JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"],daysOfWeek="SMTWTFS".split(""),weekStart=0;function cal_setMonthNames(z,y,w,x,u,t,v,s,q,r,p,o){monthLabels[1]=z;monthLabels[2]=y;monthLabels[3]=w;monthLabels[4]=x;monthLabels[5]=u;monthLabels[6]=t;monthLabels[7]=v;monthLabels[8]=s;monthLabels[9]=q;monthLabels[10]=r;monthLabels[11]=p;monthLabels[12]=o}function cal_setDayHeaders(k,h,o,p,m,l,n){daysOfWeek[0]=k;daysOfWeek[1]=h;daysOfWeek[2]=o;daysOfWeek[3]=p;daysOfWeek[4]=m;daysOfWeek[5]=l;daysOfWeek[6]=n}function cal_setWeekStart(b){0<=b&&7>b&&(weekStart=b)}function cal_toggleDate(f,e){var g=document.getElementById(f);if(!g){return !1}if("visible"==g.style.visibility){return g.style.visibility="hidden",!1}if("show"==g.style.visibility){return g.style.visibility="hide",!1}var h=document.getElementById(e);if(!h){return !1}h=/((\d+ (JAN|FEB|MAR|APR|MAY|JUN|JUL|AUG|SEP|OCT|NOV|DEC) )?\d+)/.exec(h.value)?new Date(RegExp.$1):new Date;g.innerHTML=cal_generateSelectorContent(e,f,h);if("hidden"==g.style.visibility){return g.style.visibility="visible",!1}"hide"==g.style.visibility&&(g.style.visibility="show");return !1}function cal_generateSelectorContent(h,e,m){var n;n='<table border="1"><tr>'+('<td><select name="'+h+'_daySelect" id="'+h+'_daySelect" onchange="return cal_updateCalendar(\''+h+"', '"+e+"');\">");for(i=1;32>i;i++){n+='<option value="'+i+'"',m.getDate()==i&&(n+=' selected="selected"'),n+=">"+i+"</option>"}n=n+"</select></td>"+('<td><select name="'+h+'_monSelect" id="'+h+'_monSelect" onchange="return cal_updateCalendar(\''+h+"', '"+e+"');\">");for(i=1;13>i;i++){n+='<option value="'+i+'"',m.getMonth()+1==i&&(n+=' selected="selected"'),n+=">"+monthLabels[i]+"</option>"}n+="</select></td>";n+='<td><input type="text" name="'+h+'_yearInput" id="'+h+'_yearInput" size="5" value="'+m.getFullYear()+'" onchange="return cal_updateCalendar(\''+h+"', '"+e+"');\" /></td></tr>";n+='<tr><td colspan="3">';n+='<table width="100%">';n+="<tr>";j=weekStart;for(i=0;7>i;i++){n+="<td ",n+='class="descriptionbox"',n+=">",n+=daysOfWeek[j],n+="</td>",j++,6<j&&(j=0)}n+="</tr>";var l=new Date(m.getFullYear(),m.getMonth(),1),k=l.getDay(),k=k-weekStart,l=l.getTime()-86400000*k+43200000,l=new Date(l);for(j=0;6>j;j++){n+="<tr>";for(i=0;7>i;i++){n+="<td ",n=l.getMonth()==m.getMonth()?l.getDate()==m.getDate()?n+'class="descriptionbox"':n+'class="optionbox"':n+'style="background-color:#EAEAEA; border: solid #AAAAAA 1px;"',n+='><a href="#" onclick="return cal_dateClicked(\''+h+"', '"+e+"', "+l.getFullYear()+", "+l.getMonth()+", "+l.getDate()+');">',n+=l.getDate(),n+="</a></td>",l=l.getTime()+86400000,l=new Date(l)}n+="</tr>"}n+="</table>";n+="</td></tr>";return n+="</table>"}function cal_setDateField(f,e,g,h){f=document.getElementById(f);if(!f){return !1}10>h&&(h="0"+h);f.value=h+" "+monthShort[g+1]+" "+e;return !1}function cal_updateCalendar(g,e){var k=document.getElementById(g+"_daySelect");if(!k){return !1}var l=document.getElementById(g+"_monSelect");if(!l){return !1}var h=document.getElementById(g+"_yearInput");if(!h){return !1}l=parseInt(l.options[l.selectedIndex].value);k=new Date(h.value,l-1,k.options[k.selectedIndex].value);cal_setDateField(g,k.getFullYear(),k.getMonth(),k.getDate());h=document.getElementById(e);if(!h){return alert("no dateDiv "+e),!1}h.innerHTML=cal_generateSelectorContent(g,e,k);return !1}function cal_dateClicked(g,e,k,l,h){cal_setDateField(g,k,l,h);cal_toggleDate(e,g);return !1}function findWindow(f,e,g,h){h=h||{};h.type=e;h.ged="undefined"===typeof f?WT_GEDCOM:f;window.pastefield=g;window.open("find.php?"+jQuery.param(h),"_blank",find_window_specs);return !1}function findIndi(e,c,f){window.nameElement=c;return findWindow(f,"indi",e)}function findPlace(d,c){return findWindow(c,"place",d)}function findFamily(d,c){return findWindow(c,"fam",d)}function findMedia(e,c,f){return findWindow(f,"media",e,{choose:c||"0all"})}function findSource(e,c,f){window.nameElement=c;return findWindow(f,"source",e)}function findnote(e,c,f){window.nameElement=c;return findWindow(f,"note",e)}function findRepository(d,c){return findWindow(c,"repo",d)}function findSpecialChar(b){return findWindow(void 0,"specialchar",b)}function findFact(d,c){return findWindow(c,"facts",d,{tags:d.value})}function openerpasteid(b){window.opener.paste_id&&window.opener.paste_id(b);window.close()}function paste_id(b){pastefield.value=b}function pastename(b){nameElement&&(nameElement.innerHTML=b);remElement&&(remElement.style.display="block")}function paste_char(b){document.selection?(pastefield.focus(),sel=document.selection.createRange(),sel.text=b):pastefield.selectionStart||0==pastefield.selectionStart?(pastefield.value=pastefield.value.substring(0,pastefield.selectionStart)+b+pastefield.value.substring(pastefield.selectionEnd,pastefield.value.length),pastefield.selectionStart=pastefield.selectionEnd=pastefield.selectionStart+b.length):pastefield.value+=b;("NPFX"==pastefield.id||"GIVN"==pastefield.id||"SPFX"==pastefield.id||"SURN"==pastefield.id||"NSFX"==pastefield.id)&&updatewholename()}function ilinkitem(e,c,f){f="undefined"===typeof f?WT_GEDCOM:f;window.open("inverselink.php?mediaid="+encodeURIComponent(e)+"&linkto="+encodeURIComponent(c)+"&ged="+encodeURIComponent(f),"_blank",find_window_specs);return !1}function message(e,c,f){window.open("message.php?to="+encodeURIComponent(e)+"&method="+encodeURIComponent(c)+"&url="+encodeURIComponent(f),"_blank",mesg_window_specs);return !1}function valid_lati_long(f,e,g){var h=f.value.toUpperCase(),h=h.replace(/(^\s*)|(\s*$)/g,""),h=h.replace(/ /g,":"),h=h.replace(/\+/g,""),h=h.replace(/-/g,g),h=h.replace(/,/g,"."),h=h.replace(/\uB0/g,":"),h=h.replace(/\u27/g,":"),h=h.replace(/^([0-9]+):([0-9]+):([0-9.]+)(.*)/g,function(n,k,p,o,m){n=parseFloat(k);n=n+p/60+o/3600;n=Math.round(10000*n)/10000;return m+n}),h=h.replace(/^([0-9]+):([0-9]+)(.*)/g,function(l,k,n,m){l=parseFloat(k);l=Math.round(10000*(l+n/60))/10000;return m+l});(h=h.replace(/(.*)([N|S|E|W]+)$/g,"$2$1"))&&(h.charAt(0)!=g&&h.charAt(0)!=e)&&(h=e+h);f.value=h}function activate_colorbox(b){jQuery.extend(jQuery.colorbox.settings,{fixed:!0,current:"",previous:"ltr"==textDirection?"\u25c0":"\u25b6",next:"ltr"==textDirection?"\u25b6":"\u25c0",slideshowStart:"\u25cb",slideshowStop:"\u25cf",close:"\u2715"});b&&jQuery.extend(jQuery.colorbox.settings,b);jQuery("body").on("click","a.gallery",function(){jQuery("a[type^=image].gallery").colorbox({photo:!0,maxWidth:"95%",maxHeight:"95%",rel:"gallery",slideshow:!0,slideshowAuto:!1,onComplete:function(){jQuery(".cboxPhoto").wheelzoom();jQuery(".cboxPhoto img").on("click",function(c){c.preventDefault()})}})})}jQuery.extend($.ui.accordion.prototype.options,{icons:{header:"rtl"===textDirection?"ui-icon-triangle-1-w":"ui-icon-triangle-1-e",activeHeader:"ui-icon-triangle-1-s"}});